{"version":3,"sources":["00_global.js","01_fetch.js","02_favourites.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst submitBtn = document.querySelector('.js-submit');\nconst resetBtn = document.querySelector('.js-reset');\nconst favList = document.querySelector('.js-favourites');\nconst resultList = document.querySelector('.js-results');\n\nlet resultElements = [];\nlet favElements = [];\n","function getAnime(event) {\n    event.preventDefault()\n    const animeInput = document.querySelector('.js-input').value;\n    fetch(`https://api.jikan.moe/v3/search/anime?q=${animeInput}`)\n        .then(response => response.json())\n        .then(animeData => {\n            resultElements = animeData.results;\n            renderResultList(resultElements);\n        });\n\n}\n\nfunction renderResultList(resultElements) {\n    resultList.innerHTML = `<h2 class=\"results__title\">Resultados:</h2>`;\n    for (let i = 0; i < resultElements.length; i++) {\n        if (resultElements[i].image_url === 'https://cdn.myanimelist.net/images/qm_50.gif?s=e1ff92a46db617cb83bfc1e205aff620') {\n            resultList.innerHTML +=\n                ` \n                <article class=\"results__card js-card\">\n                <img\n                    src=\"https://via.placeholder.com/210x295/000000/ffffff/?text=${resultElements[i].title}\"\n                    class=\"results__card--img\"\n                    alt=\"${resultElements[i].title}\"\n                />\n                <h3 class=\"results__card--title\">${resultElements[i].title}</h3>\n                </article>\n                `\n                ;\n\n        } else {\n            resultList.innerHTML +=\n                ` \n                <article class=\"results__card js-card\">\n                <img\n                    src=\"${resultElements[i].image_url}\"\n                    class=\"results__card--img\"\n                    alt=\"${resultElements[i].title}\"\n                />\n                <h3 class=\"results__card--title\">${resultElements[i].title}</h3>\n                </article>\n                `\n                ;\n        }\n        const animeCard = document.querySelectorAll('.js-card');\n        for (const eachCard of animeCard) {\n            eachCard.addEventListener('click', addFavourite);\n        }\n\n    }\n    // for (let eachAnime of resultElements) {\n    //     if (eachAnime.image_url === 'https://cdn.myanimelist.net/images/qm_50.gif?s=e1ff92a46db617cb83bfc1e205aff620') {\n    //         resultList.innerHTML +=\n    //             ` \n    //             <article class=\"results__card js-card\">\n    //             <img\n    //                 src=\"https://via.placeholder.com/210x295/000000/ffffff/?text=${eachAnime.title}\"\n    //                 class=\"results__card--img\"\n    //                 alt=\"${eachAnime.title}\"\n    //             />\n    //             <h3 class=\"results__card--title\">${eachAnime.title}</h3>\n    //             </article>\n    //             `\n    //             ;\n\n    //     } else {\n    //         resultList.innerHTML +=\n    //             ` \n    //             <article class=\"results__card js-card\">\n    //             <img\n    //                 src=\"${eachAnime.image_url}\"\n    //                 class=\"results__card--img\"\n    //                 alt=\"${eachAnime.title}\"\n    //             />\n    //             <h3 class=\"results__card--title\">${eachAnime.title}</h3>\n    //             </article>\n    //             `\n    //             ;\n    //     }\n    //     const animeCard = document.querySelectorAll('.js-card');\n    //     for (const eachCard of animeCard) {\n    //         eachCard.addEventListener('click', addFavourite);\n    //     }\n\n    // }\n}\nsubmitBtn.addEventListener('click', getAnime); ","\nfunction addFavourite(event) {\n    const animeInfo = event.currentTarget.querySelector('.results__card--img');\n    if (event.currentTarget.classList.contains('favourite')) {\n        let index = favElements.findIndex(i => i.title === animeInfo.alt);\n        favElements.splice(index, 1);\n        console.log(favElements);\n        event.currentTarget.classList.remove('favourite');\n    } else {\n\n        const newFavourite = {\n            title: animeInfo.alt,\n            image_url: animeInfo.src,\n        }\n        favElements.push(newFavourite);\n        console.log(favElements);\n        event.currentTarget.classList.add('favourite');\n    }\n    renderFavList(favElements);\n}\n\nfunction renderFavList(favElements) {\n    favList.innerHTML = `<h2 class=\"favourites__title\">Favoritos:</h2>`;\n    for (let i = 0; i < favElements.length; i++) {\n        if (favElements[i].image_url === 'https://cdn.myanimelist.net/images/qm_50.gif?s=e1ff92a46db617cb83bfc1e205aff620') {\n            favList.innerHTML +=\n                ` \n                <article class=\"favourites__card js-card\">\n                <img\n                    src=\"https://via.placeholder.com/210x295/000000/ffffff/?text=${favElements[i].title}\"\n                    class=\"favourites__card--img\"\n                    alt=\"${favElements[i].title}\"\n                />\n                <h3 class=\"favourites__card--title\">${favElements[i].title}</h3>\n                </article>\n                `\n                ;\n\n        } else {\n            favList.innerHTML +=\n                ` \n                <article class=\"favourites__card js-card\">\n                <img\n                    src=\"${favElements[i].image_url}\"\n                    class=\"favourites__card--img\"\n                    alt=\"${favElements[i].title}\"\n                />\n                <h3 class=\"favourites__card--title\">${favElements[i].title}</h3>\n                </article>\n                `\n                ;\n        }\n    }\n}\n"]}